<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Andes Neural Network Library User Manual: Utils Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Andes Neural Network Library User Manual
   &#160;<span id="projectnumber">version3.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__Utils.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Utils Functions</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaa49e7e1a1073ca1e89c86a82864b7c66"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Utils.html#gaa49e7e1a1073ca1e89c86a82864b7c66">riscv_nn_upsample_method</a> { <b>NN_UPSAMPLE_NEAREST</b> = 0
 }</td></tr>
<tr class="separator:gaa49e7e1a1073ca1e89c86a82864b7c66"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafebdb257b10c22758d2ba7715a8e1d2e"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Utils.html#gafebdb257b10c22758d2ba7715a8e1d2e">riscv_nn_exp_f32</a> (const float32_t *in_vec, uint32_t size, float32_t *out_vec)</td></tr>
<tr class="separator:gafebdb257b10c22758d2ba7715a8e1d2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8badb3e55083a0af9a86b92b8c2c08ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Utils.html#ga8badb3e55083a0af9a86b92b8c2c08ca">riscv_nn_reshape_s8</a> (const int8_t *in_tensor, int8_t *out_tensor, const uint32_t size)</td></tr>
<tr class="separator:ga8badb3e55083a0af9a86b92b8c2c08ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07f85c637d13901f0a1d0fbd87d3be25"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Utils.html#ga07f85c637d13901f0a1d0fbd87d3be25">riscv_nn_svdf_s8</a> (q31_t *tmp_buf, q31_t *tmp_buf2, const int32_t rank, const int32_t in_offset, const int32_t out_offset, const int32_t in_act_min, const int32_t in_act_max, const int32_t out_act_min, const int32_t out_act_max, const int32_t in_scale, const int32_t in_shift, const int32_t out_scale, const int32_t out_shift, const int32_t in_batch, const int32_t in_height, const q7_t *in_tensor, q15_t *state_tensor, const int32_t wt_feature_batch, const q7_t *wt_feature_tensor, const int32_t wt_time_height, const q15_t *wt_time_tensor, const q31_t *bias, q7_t *out_tensor)</td></tr>
<tr class="separator:ga07f85c637d13901f0a1d0fbd87d3be25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga334cd6c58c1e7f5c88941dc97fc3c2c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Utils.html#ga334cd6c58c1e7f5c88941dc97fc3c2c5">riscv_nn_svdf_s8_state_s8</a> (q31_t *tmp_buf, q31_t *tmp_buf2, const int32_t rank, const int32_t in_offset, const int32_t out_offset, const int32_t in_act_min, const int32_t in_act_max, const int32_t out_act_min, const int32_t out_act_max, const int32_t in_scale, const int32_t in_shift, const int32_t out_scale, const int32_t out_shift, const int32_t in_batch, const int32_t in_height, const q7_t *in_tensor, q7_t *state_tensor, const int32_t wt_feature_batch, const q7_t *wt_feature_tensor, const int32_t wt_time_height, const q7_t *wt_time_tensor, const q31_t *bias, q7_t *out_tensor)</td></tr>
<tr class="separator:ga334cd6c58c1e7f5c88941dc97fc3c2c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf634e1f828e7a9c8955a5a6ac3dc7a6a"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Utils.html#gaf634e1f828e7a9c8955a5a6ac3dc7a6a">riscv_nn_top_k_s8</a> (q7_t *in_vec, uint32_t size, uint32_t k, q7_t *val, uint32_t *idx)</td></tr>
<tr class="separator:gaf634e1f828e7a9c8955a5a6ac3dc7a6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga104609b893e0373f99e7d9b2c8c70be2"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Utils.html#ga104609b893e0373f99e7d9b2c8c70be2">riscv_nn_upsampling2d_HWC_s8</a> (const int8_t *in_tensor, const uint32_t in_tensor_dim_x, const uint32_t in_tensor_dim_y, const uint32_t in_tensor_ch, const uint32_t scale_factor_x, const uint32_t scale_factor_y, const <a class="el" href="group__Utils.html#gaa49e7e1a1073ca1e89c86a82864b7c66">riscv_nn_upsample_method</a> upsample_method, int8_t *out_tensor)</td></tr>
<tr class="separator:ga104609b893e0373f99e7d9b2c8c70be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gaa49e7e1a1073ca1e89c86a82864b7c66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa49e7e1a1073ca1e89c86a82864b7c66">&#9670;&nbsp;</a></span>riscv_nn_upsample_method</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__Utils.html#gaa49e7e1a1073ca1e89c86a82864b7c66">riscv_nn_upsample_method</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the enumeration type to select an unsampling algorithm. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gafebdb257b10c22758d2ba7715a8e1d2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafebdb257b10c22758d2ba7715a8e1d2e">&#9670;&nbsp;</a></span>riscv_nn_exp_f32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t riscv_nn_exp_f32 </td>
          <td>(</td>
          <td class="paramtype">const float32_t *&#160;</td>
          <td class="paramname"><em>in_vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float32_t *&#160;</td>
          <td class="paramname"><em>out_vec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function calculates the base-e exponential values of floating-point inputs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">in_vec</td><td>pointer of the input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>number of elements in the input vector </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_vec</td><td>pointer of the output vector </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function only returns 0. </dd></dl>

</div>
</div>
<a id="ga8badb3e55083a0af9a86b92b8c2c08ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8badb3e55083a0af9a86b92b8c2c08ca">&#9670;&nbsp;</a></span>riscv_nn_reshape_s8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void riscv_nn_reshape_s8 </td>
          <td>(</td>
          <td class="paramtype">const int8_t *&#160;</td>
          <td class="paramname"><em>in_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t *&#160;</td>
          <td class="paramname"><em>out_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function turns the 8-bit input tensor into another tensor with the same data but in a different shape. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">in_tensor</td><td>pointer of the input tensor </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_tensor</td><td>pointer of the output tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size, in bytes, of total input tensors </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor">#define SIZE 1024</span></div>
<div class="line">int8_t in_tensor[SIZE] = {...};</div>
<div class="line">int8_t out_tensor[SIZE];</div>
<div class="line"> </div>
<div class="line"><a class="code" href="group__Utils.html#ga8badb3e55083a0af9a86b92b8c2c08ca">riscv_nn_reshape_s8</a>(in_tensor, out_tensor, SIZE);</div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga07f85c637d13901f0a1d0fbd87d3be25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga07f85c637d13901f0a1d0fbd87d3be25">&#9670;&nbsp;</a></span>riscv_nn_svdf_s8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t riscv_nn_svdf_s8 </td>
          <td>(</td>
          <td class="paramtype">q31_t *&#160;</td>
          <td class="paramname"><em>tmp_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q31_t *&#160;</td>
          <td class="paramname"><em>tmp_buf2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_act_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_act_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_act_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_act_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_shift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_shift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const q7_t *&#160;</td>
          <td class="paramname"><em>in_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q15_t *&#160;</td>
          <td class="paramname"><em>state_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>wt_feature_batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const q7_t *&#160;</td>
          <td class="paramname"><em>wt_feature_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>wt_time_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const q15_t *&#160;</td>
          <td class="paramname"><em>wt_time_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const q31_t *&#160;</td>
          <td class="paramname"><em>bias</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q7_t *&#160;</td>
          <td class="paramname"><em>out_tensor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function performs single value decomposition filter for signed 8-bit integer inputs and signed 16-bit integer state tensor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tmp_buf</td><td>temporary buffer for the input tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tmp_buf2</td><td>temporary buffer for the output tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rank</td><td>number of largest elements to be kept </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_offset</td><td>offset value for the input tensor It should be in the range of -127 to 128. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_offset</td><td>offset value for the output tensor. It should be in the range of -128 to 127. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_act_min</td><td>minimum value that the intput tensor is limited to. It should be in the range of -128 to 127. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_act_max</td><td>maximum value that the intput tensor is limited to. It should be in the range of -128 to 127. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_act_min</td><td>minimum value that the output tensor is limited to. It should be in the range of -128 to 127. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_act_max</td><td>maximum value that the output tensor is limited to. It should be in the range of -128 to 127. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_scale</td><td>scaling value for the quantization on the inputs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_shift</td><td>shift amount for the quantization on the inputs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_scale</td><td>scaling value for the quantization on the outputs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_shift</td><td>shift amount for the quantization on the outputs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_batch</td><td>size of input tensor batches </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_height</td><td>height of the input tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_tensor</td><td>pointer of the input tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">state_tensor</td><td>pointer of the state tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wt_feature_batch</td><td>size of the feature weight tensor batches </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wt_feature_tensor</td><td>pointer of the feature weight tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wt_time_height</td><td>height of the time weight tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wt_time_tensor</td><td>pointer of the time weight tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bias</td><td>pointer of the bias vector </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_tensor</td><td>pointer of the output tensor </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns 0 on success; otherwise, it returns -1 if its inputs do not meet the constraints that in_height is nonnegative and less than 0x7FFFFFF0 and wt_time_height is also nonnegative.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>bias could be a null pointer as the bias vector is optional for this function.</li>
<li>During the quantization process, a positive out_shift value is used to left shift calculation results whereas a negative one is used to right shift. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga334cd6c58c1e7f5c88941dc97fc3c2c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga334cd6c58c1e7f5c88941dc97fc3c2c5">&#9670;&nbsp;</a></span>riscv_nn_svdf_s8_state_s8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int riscv_nn_svdf_s8_state_s8 </td>
          <td>(</td>
          <td class="paramtype">q31_t *&#160;</td>
          <td class="paramname"><em>tmp_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q31_t *&#160;</td>
          <td class="paramname"><em>tmp_buf2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_act_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_act_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_act_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_act_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_shift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_shift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const q7_t *&#160;</td>
          <td class="paramname"><em>in_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q7_t *&#160;</td>
          <td class="paramname"><em>state_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>wt_feature_batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const q7_t *&#160;</td>
          <td class="paramname"><em>wt_feature_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>wt_time_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const q7_t *&#160;</td>
          <td class="paramname"><em>wt_time_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const q31_t *&#160;</td>
          <td class="paramname"><em>bias</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q7_t *&#160;</td>
          <td class="paramname"><em>out_tensor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function performs single value decomposition filter for signed 8-bit integer inputs and signed 8-bit integer state tensor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tmp_buf</td><td>temporary buffer for the input tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tmp_buf2</td><td>temporary buffer for the output tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rank</td><td>number of largest elements to be kept </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_offset</td><td>offset value for the input tensor It should be in the range of -127 to 128. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_offset</td><td>offset value for the output tensor. It should be in the range of -128 to 127. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_act_min</td><td>minimum value that the intput tensor is limited to. It should be in the range of -128 to 127. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_act_max</td><td>maximum value that the intput tensor is limited to. It should be in the range of -128 to 127. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_act_min</td><td>minimum value that the output tensor is limited to. It should be in the range of -128 to 127. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_act_max</td><td>maximum value that the output tensor is limited to. It should be in the range of -128 to 127. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_scale</td><td>scaling value for the quantization on the inputs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_shift</td><td>shift amount for the quantization on the inputs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_scale</td><td>scaling value for the quantization on the outputs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_shift</td><td>shift amount for the quantization on the outputs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_batch</td><td>size of input tensor batches </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_height</td><td>height of the input tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_tensor</td><td>pointer of the input tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">state_tensor</td><td>pointer of the state tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wt_feature_batch</td><td>size of the feature weight tensor batches </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wt_feature_tensor</td><td>pointer of the feature weight tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wt_time_height</td><td>height of the time weight tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wt_time_tensor</td><td>pointer of the time weight tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bias</td><td>pointer of the bias vector </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_tensor</td><td>pointer of the output tensor </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns 0 on success; otherwise, it returns -1 if its inputs do not meet the constraints that in_height is nonnegative and less than 0x7FFFFFF0 and wt_time_height is also nonnegative.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>bias could be a null pointer as the bias vector is optional for this function.</li>
<li>During the quantization process, a positive out_shift value is used to left shift calculation results whereas a negative one is used to right shift. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gaf634e1f828e7a9c8955a5a6ac3dc7a6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf634e1f828e7a9c8955a5a6ac3dc7a6a">&#9670;&nbsp;</a></span>riscv_nn_top_k_s8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t riscv_nn_top_k_s8 </td>
          <td>(</td>
          <td class="paramtype">q7_t *&#160;</td>
          <td class="paramname"><em>in_vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q7_t *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function finds the k largest values and their indices from the signed 8-bit integer input vector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">in_vec</td><td>pointer of the input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>number of elements in the input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">k</td><td>number of the largest values to be searched </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">val</td><td>the k largest values in the input vector </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">idx</td><td>indices of the k largest values in the input vector </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function only returns 0.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The k largest values will be sorted from the largest to the smallest and stored in the "val" output vector. If multiple elements share the same value, those with smaller indices will have higher priority for the selection. </dd></dl>

</div>
</div>
<a id="ga104609b893e0373f99e7d9b2c8c70be2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga104609b893e0373f99e7d9b2c8c70be2">&#9670;&nbsp;</a></span>riscv_nn_upsampling2d_HWC_s8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t riscv_nn_upsampling2d_HWC_s8 </td>
          <td>(</td>
          <td class="paramtype">const int8_t *&#160;</td>
          <td class="paramname"><em>in_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>in_tensor_dim_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>in_tensor_dim_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>in_tensor_ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>scale_factor_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>scale_factor_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__Utils.html#gaa49e7e1a1073ca1e89c86a82864b7c66">riscv_nn_upsample_method</a>&#160;</td>
          <td class="paramname"><em>upsample_method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t *&#160;</td>
          <td class="paramname"><em>out_tensor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function performs upsampling for 2 dimension tensor with signed 8-bit integer data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">in_tensor</td><td>pointer of the input tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_tensor_dim_x</td><td>x dimension of the input tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_tensor_dim_y</td><td>y dimension of the input tensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_tensor_ch</td><td>number of input tensor channels </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scale_factor_x</td><td>factor to be scaled up for x dimension </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scale_factor_y</td><td>factor to be scaled up for y dimension </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">upsample_method</td><td>algorithm to be applied for the upsampling </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_tensor</td><td>pointer of the output tensor </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function only returns 0.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Now only the algorithm NN_UPSAMPLE_NEAREST is supported for upsample_method. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__Utils_html_ga8badb3e55083a0af9a86b92b8c2c08ca"><div class="ttname"><a href="group__Utils.html#ga8badb3e55083a0af9a86b92b8c2c08ca">riscv_nn_reshape_s8</a></div><div class="ttdeci">void riscv_nn_reshape_s8(const int8_t *in_tensor, int8_t *out_tensor, const uint32_t size)</div><div class="ttdoc">This function turns the 8-bit input tensor into another tensor with the same data but in a different ...</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
