<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Andes Neural Network Library User Manual: Basic Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Andes Neural Network Library User Manual
   &#160;<span id="projectnumber">version3.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__Basic.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Basic Functions</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga551f84785d11de350ff5275ae058ce4d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Basic.html#ga551f84785d11de350ff5275ae058ce4d">riscv_nn_add_s8_sym</a> (const q7_t *in_vec1, const q7_t *in_vec2, const int16_t *scale1, const int16_t *scale2, const uint32_t size, const uint16_t pre_rshift, const uint16_t out_scale, const uint16_t post_rshift, q7_t *out_vec)</td></tr>
<tr class="separator:ga551f84785d11de350ff5275ae058ce4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab09019c7d81c10b0e34c9e1a2d0ea520"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Basic.html#gab09019c7d81c10b0e34c9e1a2d0ea520">riscv_nn_add_s8_sym_round</a> (const q7_t *in_vec1, const q7_t *in_vec2, const uint32_t scale1, const uint32_t scale2, const uint32_t size, const uint16_t pre_rshift, const uint32_t out_scale, const uint16_t post_rshift, q7_t *out_vec)</td></tr>
<tr class="separator:gab09019c7d81c10b0e34c9e1a2d0ea520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d1d93515fcce1f7342bc7178738a251"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Basic.html#ga6d1d93515fcce1f7342bc7178738a251">riscv_nn_ew_add_s8_asym</a> (const int8_t *in_vec1, const int8_t *in_vec2, const int32_t in_offset1, const int32_t in_scale1, const int32_t in_rshift1, const int32_t in_offset2, const int32_t in_scale2, const int32_t in_rshift2, const int32_t lshift, int8_t *out_vec, const int32_t out_offset, const int32_t out_scale, const int32_t out_rshift, const int32_t act_min, const int32_t act_max, const uint32_t size)</td></tr>
<tr class="separator:ga6d1d93515fcce1f7342bc7178738a251"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd96f344ca58c1cd2bd0cd690573730b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Basic.html#gadd96f344ca58c1cd2bd0cd690573730b">riscv_nn_ew_add_s16_asym</a> (const int16_t *in_vec1, const int16_t *in_vec2, const int32_t in_offset1, const int32_t in_scale1, const int32_t in_rshift1, const int32_t in_offset2, const int32_t in_scale2, const int32_t in_rshift2, const int32_t lshift, int16_t *out_vec, const int32_t out_offset, const int32_t out_scale, const int32_t out_rshift, const int32_t act_min, const int32_t act_max, const int32_t size)</td></tr>
<tr class="separator:gadd96f344ca58c1cd2bd0cd690573730b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a65ac7692fc464dc0c637c5abf952d3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Basic.html#ga4a65ac7692fc464dc0c637c5abf952d3">riscv_nn_ew_mul_s8_asym</a> (const int8_t *in_vec1, const int8_t *in_vec2, const int32_t in_offset1, const int32_t in_offset2, int8_t *out_vec, const int32_t out_offset, const int32_t out_scale, const int32_t out_shift, const int32_t act_min, const int32_t act_max, const uint32_t size)</td></tr>
<tr class="separator:ga4a65ac7692fc464dc0c637c5abf952d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14c8e376ad56e652d4018f5d759c077b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Basic.html#ga14c8e376ad56e652d4018f5d759c077b">riscv_nn_ew_mul_s16_asym</a> (const int16_t *in_vec1, const int16_t *in_vec2, const int32_t in_offset1, const int32_t in_offset2, int16_t *out_vec, const int32_t out_offset, const int32_t out_scale, const int32_t out_shift, const int32_t act_min, const int32_t act_max, const int32_t size)</td></tr>
<tr class="separator:ga14c8e376ad56e652d4018f5d759c077b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga551f84785d11de350ff5275ae058ce4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga551f84785d11de350ff5275ae058ce4d">&#9670;&nbsp;</a></span>riscv_nn_add_s8_sym()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void riscv_nn_add_s8_sym </td>
          <td>(</td>
          <td class="paramtype">const q7_t *&#160;</td>
          <td class="paramname"><em>in_vec1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const q7_t *&#160;</td>
          <td class="paramname"><em>in_vec2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int16_t *&#160;</td>
          <td class="paramname"><em>scale1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int16_t *&#160;</td>
          <td class="paramname"><em>scale2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>pre_rshift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>out_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>post_rshift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q7_t *&#160;</td>
          <td class="paramname"><em>out_vec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function performs element-wise addition for signed 8-bit integer input vectors with symmetric quantization on the outputs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">in_vec1</td><td>pointer of the first input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_vec2</td><td>pointer of the second input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scale1</td><td>pointer of the first scaling vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scale2</td><td>pointer of the second scaling vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>number of elements in the input vectors </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pre_rshift</td><td>right shift amount for the accumulator before the scaling </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_scale</td><td>scaling value for the accumulator </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">post_rshift</td><td>right shift amount for the accumulator after the scaling </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_vec</td><td>pointer of the element-wise addition results </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The calculation of each element can be represented as Figure 1, where rectangles represent inputs or outputs, circles represent arithmetical operations, solid lines are for required steps and dashed lines, if any, are for optional ones.</dd></dl>
<div class="image">
<img src="riscv_nn_add_s8_sym.jpg" alt="" width="600px"/>
<div class="caption">
Figure 1. riscv_nn_add_s8_sym algorithm flowchart</div></div>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor">#define SIZE 1024</span></div>
<div class="line">uint16_t pre_rshift = 8;        <span class="comment">// The addition results of both scaled input</span></div>
<div class="line">                                <span class="comment">// tensors are in the range of 24-bit; thus, the</span></div>
<div class="line">                                <span class="comment">// pre_rshift should be in the range of [0, 24].</span></div>
<div class="line">                                <span class="comment">// Here we scale down the results into 16-bit</span></div>
<div class="line">                                <span class="comment">// range.</span></div>
<div class="line">uint16_t out_scale = 3;         <span class="comment">// Scale up the result into 18-bit range.</span></div>
<div class="line">uint16_t post_rshift = 11;      <span class="comment">// Scale down the result into 7-bit range.</span></div>
<div class="line"> </div>
<div class="line">q7_t in_vec1[SIZE] = {...};</div>
<div class="line">q7_t in_vec2[SIZE] = {...};</div>
<div class="line">int16_t scale1[SIZE] = {...};</div>
<div class="line">int16_t scale2[SIZE] = {...};</div>
<div class="line">q7_t out_vec[SIZE];</div>
<div class="line"> </div>
<div class="line"><a class="code" href="group__Basic.html#ga551f84785d11de350ff5275ae058ce4d">riscv_nn_add_s8_sym</a>(in_vec1, in_vec2, scale1, scale2, SIZE, pre_rshift,</div>
<div class="line">    out_scale, post_rshift, out_vec);</div>
</div><!-- fragment --> 
</div>
</div>
<a id="gab09019c7d81c10b0e34c9e1a2d0ea520"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab09019c7d81c10b0e34c9e1a2d0ea520">&#9670;&nbsp;</a></span>riscv_nn_add_s8_sym_round()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void riscv_nn_add_s8_sym_round </td>
          <td>(</td>
          <td class="paramtype">const q7_t *&#160;</td>
          <td class="paramname"><em>in_vec1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const q7_t *&#160;</td>
          <td class="paramname"><em>in_vec2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>scale1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>scale2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>pre_rshift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>out_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>post_rshift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q7_t *&#160;</td>
          <td class="paramname"><em>out_vec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function performs element-wise addition for signed 8-bit integer input vectors with symmetric quantization and rounding on the outputs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">in_vec1</td><td>pointer of the first input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_vec2</td><td>pointer of the second input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scale1</td><td>scaling value for the first input vector. It should be in the range of 0 to 2^23. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scale2</td><td>scaling value for the second input vector. It should be in the range of 0 to 2^23. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>number of elements in the input vectors </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pre_rshift</td><td>right shift amount for the accumulator before the scaling </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_scale</td><td>scaling value for the accumulator </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">post_rshift</td><td>right shift amount for the accumulator after the scaling </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_vec</td><td>pointer of element-wise addition results </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>The calculation of each element could be represented as Figure 1.</li>
<li>The right shift operations for this function include rounding. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga6d1d93515fcce1f7342bc7178738a251"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d1d93515fcce1f7342bc7178738a251">&#9670;&nbsp;</a></span>riscv_nn_ew_add_s8_asym()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int riscv_nn_ew_add_s8_asym </td>
          <td>(</td>
          <td class="paramtype">const int8_t *&#160;</td>
          <td class="paramname"><em>in_vec1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int8_t *&#160;</td>
          <td class="paramname"><em>in_vec2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_offset1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_scale1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_rshift1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_offset2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_scale2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_rshift2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>lshift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t *&#160;</td>
          <td class="paramname"><em>out_vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_rshift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>act_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>act_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function performs element-wise addition for signed 8-bit integer input vectors with asymmetric quantization on the inputs/outputs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">in_vec1</td><td>pointer of the first input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_vec2</td><td>pointer of the second input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_offset1</td><td>offset value for the first input vector. It should be in the range of -127 to 128. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_scale1</td><td>scaling value for the quantization on first input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_rshift1</td><td>right shift amount for the quantization on the first input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_offset2</td><td>offset value for the second input vector. It should be in the range of -127 to 128. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_scale2</td><td>scaling value for the quantization on the second input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_rshift2</td><td>right shift amount for the quantization on the second input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lshift</td><td>left shift amount for the first and second input vectors </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_vec</td><td>pointer of the element-wise addition results </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_offset</td><td>offset value for the output. It should be in the range of -128 to 127. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_scale</td><td>scaling value for the quantization on the outputs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_rshift</td><td>right shift amount for the quantization on the outputs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">act_min</td><td>minimum value that the outputs are limited to. It should be in the range of -128 to 127. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">act_max</td><td>maximum value that the outputs are limited to. It should be in the range of -128 to 127. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>number of elements in the input vectors </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns 0.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>The calculation of each element could be represented as Figure 2. <div class="image">
<img src="riscv_nn_ew_add_s8_asym.jpg" alt="" width="600px"/>
<div class="caption">
Figure 2. riscv_nn_ew_add_s8_asym algorithm flowchart</div></div>
</li>
<li>The multiplication for in_scale1, in_scale2 and out_scale could be roughly expressed as: 32b = ((int64_t)32b * 32b) &gt;&gt; 31</li>
</ul>
</dd></dl>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor">#define SIZE 1024</span></div>
<div class="line">int32_t in_offset1 = 16;        <span class="comment">// Offset for in_vec1</span></div>
<div class="line">int32_t in_scale1 = (1&lt;&lt;28);    <span class="comment">// Scale down in_vec1 by 1/2^3</span></div>
<div class="line">int32_t in_rshift1 = 3;         <span class="comment">// Scale down in_vec1 by 1/2^3</span></div>
<div class="line">int32_t in_offset2 = 17;        <span class="comment">// Offset for in_vec2</span></div>
<div class="line">int32_t in_scale2 = (1&lt;&lt;28);    <span class="comment">// Scale down in_vec2 by 1/2^3</span></div>
<div class="line">int32_t in_rshift2 = 3;         <span class="comment">// Scale down in_vec2 by 1/2^3</span></div>
<div class="line">int32_t lshift = 10;            <span class="comment">// Scale up the input tensor by 2^10 times</span></div>
<div class="line">int32_t out_offset = 18;        <span class="comment">// Offset for the output tensor</span></div>
<div class="line">int32_t out_scale = (1&lt;&lt;30);    <span class="comment">// Scale down in_vec2 by 1/2</span></div>
<div class="line">int32_t out_rshift = 4;         <span class="comment">// Scale down in_vec2 by 1/2^4</span></div>
<div class="line">int32_t act_min = 0xffffffa3;   <span class="comment">// Limit the outputs to the range of</span></div>
<div class="line">                                <span class="comment">// [0xffffffa3, 0x0000005d]</span></div>
<div class="line">int32_t act_max = 0x0000005d;   <span class="comment">// Limit the outputs to the range of</span></div>
<div class="line">                                <span class="comment">// [0xffffffa3, 0x0000005d]</span></div>
<div class="line"> </div>
<div class="line">int8_t in_vec1[SIZE] = {...};</div>
<div class="line">int8_t in_vec2[SIZE] = {...};</div>
<div class="line">int8_t out_vec[SIZE];</div>
<div class="line"> </div>
<div class="line"><a class="code" href="group__Basic.html#ga6d1d93515fcce1f7342bc7178738a251">riscv_nn_ew_add_s8_asym</a>(in_vec1, in_vec2, in_offset1, in_scale1,</div>
<div class="line">    in_rshift1, in_offset2, in_scale2, in_rshift2, lshift, out_vec, out_offset,</div>
<div class="line">    out_scale, out_rshift, act_min, act_max, SIZE);</div>
</div><!-- fragment --> 
</div>
</div>
<a id="gadd96f344ca58c1cd2bd0cd690573730b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadd96f344ca58c1cd2bd0cd690573730b">&#9670;&nbsp;</a></span>riscv_nn_ew_add_s16_asym()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int riscv_nn_ew_add_s16_asym </td>
          <td>(</td>
          <td class="paramtype">const int16_t *&#160;</td>
          <td class="paramname"><em>in_vec1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int16_t *&#160;</td>
          <td class="paramname"><em>in_vec2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_offset1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_scale1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_rshift1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_offset2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_scale2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_rshift2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>lshift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>out_vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_rshift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>act_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>act_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function performs element-wise addition for signed 16-bit integer input vectors with asymmetric quantization on the inputs/outputs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">in_vec1</td><td>pointer of the first input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_vec2</td><td>pointer of the second input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_offset1</td><td>dummy </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_scale1</td><td>scaling value for the quantization on first input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_rshift1</td><td>right shift amount for the quantization on the first input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_offset2</td><td>dummy </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_scale2</td><td>scaling value for the quantization on the second input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_rshift2</td><td>right shift amount for the quantization on the second input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lshift</td><td>left shift amount for the first and second input vectors </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_vec</td><td>pointer of the element-wise addition results </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_offset</td><td>dummy </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_scale</td><td>scaling value for the quantization on the outputs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_rshift</td><td>right shift amount for the quantization on the outputs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">act_min</td><td>minimum value that the outputs are limited to. It should be in the range of -32768 to 32767. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">act_max</td><td>maximum value that the outputs are limited to. It should be in the range of -32768 to 32767. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>number of elements in the input vectors </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns 0.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The calculation of each element could be represented as Figure 2 in which in_offset1, in_offset2 and out_offset are dummy for this function. </dd></dl>

</div>
</div>
<a id="ga4a65ac7692fc464dc0c637c5abf952d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a65ac7692fc464dc0c637c5abf952d3">&#9670;&nbsp;</a></span>riscv_nn_ew_mul_s8_asym()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int riscv_nn_ew_mul_s8_asym </td>
          <td>(</td>
          <td class="paramtype">const int8_t *&#160;</td>
          <td class="paramname"><em>in_vec1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int8_t *&#160;</td>
          <td class="paramname"><em>in_vec2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_offset1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_offset2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t *&#160;</td>
          <td class="paramname"><em>out_vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_shift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>act_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>act_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function performs element-wise multiplication for signed 8-bit integer input vectors with asymmetric quantization on the outputs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">in_vec1</td><td>pointer of the first input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_vec2</td><td>pointer of the second input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_offset1</td><td>offset value for the first input vector. It should be in the range of -127 to 128. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_offset2</td><td>offset value for the second input vector. It should be in the range of -127 to 128. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_vec</td><td>pointer of the element-wise multiplication results </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_offset</td><td>offset value for the outputs. It should be in the range of -128 to 127. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_scale</td><td>scaling value for the quantization on the outputs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_shift</td><td>shift amount for the quantization on the outputs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">act_min</td><td>minimum value that the outputs are limited to. It should be in the range of -128 to 127. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">act_max</td><td>maximum value that the outputs are limited to. It should be in the range of -128 to 127. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>number of elements in the input vectors </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns 0.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>The calculation of each element could be represented as Figure 3. <div class="image">
<img src="riscv_nn_ew_mul_s8_asym.jpg" alt="" width="600px"/>
<div class="caption">
Figure 3. riscv_nn_ew_mul_s8_asym algorithm flowchart</div></div>
</li>
<li>The multiplication for out_scale could be roughly expressed as: 32b = ((int64_t)32b * 32b) &gt;&gt; 31</li>
<li>During the quantization process, a positive out_shift value is used to left shift calculation results whereas a negative one is used to right shift.</li>
</ul>
</dd></dl>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor">#define SIZE 1024</span></div>
<div class="line">int32_t in_offset1 = 16;            <span class="comment">// Offset for in_vec1</span></div>
<div class="line">int32_t in_offset2 = 17;            <span class="comment">// Offset for in_vec2</span></div>
<div class="line">int32_t out_offset = 18;            <span class="comment">// Offset for the output tensor</span></div>
<div class="line">int32_t out_scale = (1&lt;&lt;30);        <span class="comment">// Scale down the output tensor by 1/2</span></div>
<div class="line">int32_t out_shift = -4;             <span class="comment">// Scale down the output tensor by 1/2^4</span></div>
<div class="line">int32_t act_min = 0xffffffa3;       <span class="comment">// Limit the outputs to the range of</span></div>
<div class="line">                                    <span class="comment">// [0xffffffa3, 0x0000005d]</span></div>
<div class="line">int32_t act_max = 0x0000005d;       <span class="comment">// Limit the outputs to the range of</span></div>
<div class="line">                                    <span class="comment">// [0xffffffa3, 0x0000005d]</span></div>
<div class="line"> </div>
<div class="line">int8_t in_vec1[SIZE] = {...};</div>
<div class="line">int8_t in_vec2[SIZE] = {...};</div>
<div class="line">int8_t out_vec[SIZE];</div>
<div class="line"> </div>
<div class="line"><a class="code" href="group__Basic.html#ga4a65ac7692fc464dc0c637c5abf952d3">riscv_nn_ew_mul_s8_asym</a>(in_vec1, in_vec2, in_offset1, in_offset2, out_vec,</div>
<div class="line">    out_offset, out_scale, out_shift, act_min, act_max, SIZE);</div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga14c8e376ad56e652d4018f5d759c077b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga14c8e376ad56e652d4018f5d759c077b">&#9670;&nbsp;</a></span>riscv_nn_ew_mul_s16_asym()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int riscv_nn_ew_mul_s16_asym </td>
          <td>(</td>
          <td class="paramtype">const int16_t *&#160;</td>
          <td class="paramname"><em>in_vec1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int16_t *&#160;</td>
          <td class="paramname"><em>in_vec2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_offset1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>in_offset2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>out_vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>out_shift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>act_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>act_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function performs element-wise multiplication for signed 16-bit integer input vectors with asymmetric quantization on the outputs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">in_vec1</td><td>pointer of the first input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_vec2</td><td>pointer of the second input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_offset1</td><td>dummy </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_offset2</td><td>dummy </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_vec</td><td>pointer of the element-wise multiplication results </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_offset</td><td>dummy </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_scale</td><td>scaling value for the quantization on the outputs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_shift</td><td>shift amount for the quantization on the outputs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">act_min</td><td>minimum value that the outputs are limited to. It should be in the range of -32768 to 32767. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">act_max</td><td>maximum value that the outputs are limited to. It should be in the range of -32768 to 32767. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>number of elements in the input vectors </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns 0.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>The calculation of each element could be represented as Figure 3 in which in_offset1, in_offset2 and out_offset are dummy for this function.</li>
<li>During the quantization process, a positive out_shift value is used to left shift calculation results whereas a negative one is used to right shift. </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__Basic_html_ga6d1d93515fcce1f7342bc7178738a251"><div class="ttname"><a href="group__Basic.html#ga6d1d93515fcce1f7342bc7178738a251">riscv_nn_ew_add_s8_asym</a></div><div class="ttdeci">int riscv_nn_ew_add_s8_asym(const int8_t *in_vec1, const int8_t *in_vec2, const int32_t in_offset1, const int32_t in_scale1, const int32_t in_rshift1, const int32_t in_offset2, const int32_t in_scale2, const int32_t in_rshift2, const int32_t lshift, int8_t *out_vec, const int32_t out_offset, const int32_t out_scale, const int32_t out_rshift, const int32_t act_min, const int32_t act_max, const uint32_t size)</div><div class="ttdoc">This function performs element-wise addition for signed 8-bit integer input vectors with asymmetric q...</div></div>
<div class="ttc" id="agroup__Basic_html_ga4a65ac7692fc464dc0c637c5abf952d3"><div class="ttname"><a href="group__Basic.html#ga4a65ac7692fc464dc0c637c5abf952d3">riscv_nn_ew_mul_s8_asym</a></div><div class="ttdeci">int riscv_nn_ew_mul_s8_asym(const int8_t *in_vec1, const int8_t *in_vec2, const int32_t in_offset1, const int32_t in_offset2, int8_t *out_vec, const int32_t out_offset, const int32_t out_scale, const int32_t out_shift, const int32_t act_min, const int32_t act_max, const uint32_t size)</div><div class="ttdoc">This function performs element-wise multiplication for signed 8-bit integer input vectors with asymme...</div></div>
<div class="ttc" id="agroup__Basic_html_ga551f84785d11de350ff5275ae058ce4d"><div class="ttname"><a href="group__Basic.html#ga551f84785d11de350ff5275ae058ce4d">riscv_nn_add_s8_sym</a></div><div class="ttdeci">void riscv_nn_add_s8_sym(const q7_t *in_vec1, const q7_t *in_vec2, const int16_t *scale1, const int16_t *scale2, const uint32_t size, const uint16_t pre_rshift, const uint16_t out_scale, const uint16_t post_rshift, q7_t *out_vec)</div><div class="ttdoc">This function performs element-wise addition for signed 8-bit integer input vectors with symmetric qu...</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
